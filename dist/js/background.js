!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a){var b,c,d,e,f,g,h,i,j;e=a("./modules/make").date,i={method:"getSelection"},h=function(a,c){return chrome.tabs.sendMessage(c.id,i,function(a){return b(c,a.data,"markdown")})},c=function(a,c){return chrome.tabs.sendMessage(c.id,i,function(d){var e;return e="![]("+a.srcUrl+")\n\n"+d.data,b(c,e,"markdown")})},b=function(a,b,c){var d;return d={mode:c,main:b,url:a.url,date:e()},chrome.storage.local.get(["datas"],function(a){return chrome.extension.lastError?alert("不明なエラーが起こりました。"):(a.datas.memos.push(d),a.datas.setting.pinIdx>-1&&a.datas.setting.pinIdx++,chrome.storage.local.set(a,function(){}))})},chrome.runtime.onInstalled.addListener(function(){var a;return a={datas:{setting:{pinIdx:-1},memos:[],options:{write:"markdown",target:"_self",font:null}}},chrome.storage.local.get(["datas"],function(b){return Object.keys(b).length<1?chrome.storage.local.set(a,function(){}):void 0})}),f={selection:{title:"ChoiMemo に新しくメモ",onclick:h},image:{title:"ChoiMemo に新しくメモ",onclick:c}};for(d in f)j=f[d],g={title:j.title,contexts:[d],onclick:j.onclick},chrome.contextMenus.create(g)},{"./modules/make":2}],2:[function(a,b){b.exports={date:function(){var a,b,c,d,e,f;return f=new Date,e=f.getFullYear(),d=f.getMonth()+1,a=f.getDate(),b=f.getHours(),c=("0"+f.getMinutes()).slice(-2),""+e+"-"+d+"-"+a+" "+b+":"+c},clone:function(a){var b,c,d;if(null==a||"object"!=typeof a)return a;if(a instanceof Date)return new Date(a.getTime());if(a instanceof RegExp)return b="",null!=a.global&&(b+="g"),null!=a.ignoreCase&&(b+="i"),null!=a.multiline&&(b+="m"),null!=a.sticky&&(b+="y"),new RegExp(a.source,b);d=new a.constructor;for(c in a)d[c]=this.clone(a[c]);return d}}},{}]},{},[1]);